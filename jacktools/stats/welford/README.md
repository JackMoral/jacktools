# Welford Cython

–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–∫–æ–ª—å–∑—è—â–µ–≥–æ –æ–∫–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ –Ω–∞ Cython —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Welford.

## üöÄ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: 18x —É—Å–∫–æ—Ä–µ–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —á–∏—Å—Ç–æ–≥–æ Python
- **–°–∫–æ–ª—å–∑—è—â–µ–µ –æ–∫–Ω–æ**: –†–µ–∞–ª—å–Ω—ã–µ-time –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫**: –°—Ä–µ–¥–Ω–µ–µ, –¥–∏—Å–ø–µ—Ä—Å–∏—è, –∞—Å–∏–º–º–µ—Ç—Ä–∏—è, —ç–∫—Å—Ü–µ—Å—Å, –º–∏–Ω–∏–º—É–º/–º–∞–∫—Å–∏–º—É–º
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ Cython**: –ß–∏—Å—Ç—ã–µ C –º–∞—Å—Å–∏–≤—ã –∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üìä –í—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

| –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –§–æ—Ä–º—É–ª–∞ |
|------------|----------|---------|
| Mean | –°—Ä–µ–¥–Ω–µ–µ –∞—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–æ–µ | `Œº = Œ£x / n` |
| Variance | –í—ã–±–æ—Ä–æ—á–Ω–∞—è –¥–∏—Å–ø–µ—Ä—Å–∏—è | `s¬≤ = Œ£(x-Œº)¬≤ / (n-1)` |
| Skewness | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∞—Å–∏–º–º–µ—Ç—Ä–∏–∏ | `g‚ÇÅ = m‚ÇÉ / m‚ÇÇ¬π¬∑‚Åµ` |
| Kurtosis | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —ç–∫—Å—Ü–µ—Å—Å–∞ | `g‚ÇÇ = m‚ÇÑ / m‚ÇÇ¬≤ - 3` |
| Min/Max | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ/–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | - |

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```python
from jacktools.stats import WelfordWindow

# –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç —Å –æ–∫–Ω–æ–º —Ä–∞–∑–º–µ—Ä–æ–º 100
welford = WelfordWindow(window_size=100)
# –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –∑–∞–≥—Ä—É–∑–∏–≤ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–∫–Ω–∞
welford = WelfordWindow(100, values=[1,2,3,4,5])

# –î–æ–±–∞–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏ –ø–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
for value in data_stream:
    stats = welford.update(value)
    
    # –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    n, total, max_val, min_val, mean, var, skew, kurt = stats
    
    print(f"–°—Ä–µ–¥–Ω–µ–µ: {mean:.2f}, –î–∏—Å–ø–µ—Ä—Å–∏—è: {var:.2f}")
```

### –î–æ—Å—Ç—É–ø –∫ —Å–≤–æ–π—Å—Ç–≤–∞–º

```python
welford = Welford(5, [1,2,3,4,5])

# –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
stats = welford.get_stats()

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–≤–æ–π—Å—Ç–≤–∞
print(f"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ: {welford.quantity}")
print(f"–°—É–º–º–∞: {welford.summary}")
print(f"–ú–∞–∫—Å–∏–º—É–º: {welford.maximal}")
print(f"–ú–∏–Ω–∏–º—É–º: {welford.minimal}")
print(f"–°—Ä–µ–¥–Ω–µ–µ: {welford.mean:.2f}")
print(f"–î–∏—Å–ø–µ—Ä—Å–∏—è: {welford.variance:.2f}")
print(f'–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –∞—Å–∏–º–º–µ—Ç—Ä–∏–∏: {welford.skewness}')
print(f'–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —ç–∫—Å—Ü–µ—Å—Å–∞: {welford.kurtosis}')
```

## ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º Welford

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —á–∏—Å–ª–µ–Ω–Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º Welford –¥–ª—è –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —á–∏—Å–ª–∞–º–∏ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π.

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–π –±—É—Ñ–µ—Ä –Ω–∞ C –º–∞—Å—Å–∏–≤–∞—Ö
- –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ç–µ–ø–µ–Ω–µ–π –∑–Ω–∞—á–µ–Ω–∏–π
- –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞ (-O3, -ffast-math)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License